<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" sizes="16x16" type="image/png" href="_static/favicon-16x16.png">
    <link rel="icon" sizes="32x32" type="image/png" href="_static/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" type="image/png" href="_static/apple-touch-icon.png">
    <link rel="android-chrome" sizes="192x192" type="image/png" href="_static/android-chrome-192x192.png ">
    <link rel="android-chrome" sizes="512x512" type="image/png" href="_static/android-chrome-512x512.png ">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Block library &mdash; Block diagram simulation  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script>window.MathJax = {"tex": {"macros": {"presup": ["\\,{}^{\\scriptscriptstyle #1}\\!", 1], "SE": ["\\mathbf{SE}(#1)", 1], "SO": ["\\mathbf{SO}(#1)", 1], "se": ["\\mathbf{se}(#1)", 1], "so": ["\\mathbf{so}(#1)", 1], "vec": ["\\boldsymbol{#1}", 1], "dvec": ["\\dot{\\boldsymbol{#1}}", 1], "ddvec": ["\\ddot{\\boldsymbol{#1}}", 1], "fvec": ["\\presup{#1}\\boldsymbol{#2}", 2], "fdvec": ["\\presup{#1}\\dot{\\boldsymbol{#2}}", 2], "fddvec": ["\\presup{#1}\\ddot{\\boldsymbol{#2}}", 2], "norm": ["\\Vert #1 \\Vert", 1], "mat": ["\\mathbf{#1}", 1], "dmat": ["\\dot{\\mathbf{#1}}", 1], "fmat": ["\\presup{#1}\\mathbf{#2}", 2], "sk": ["\\left[#1\\right]", 1], "skx": ["\\left[#1\\right]_{\\times}", 1], "vex": ["\\vee\\left( #1\\right)", 1], "vexx": ["\\vee_{\\times}\\left( #1\\right)", 1], "q": "\\mathring{q}", "fq": ["\\presup{#1}\\mathring{q}", 1]}}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Supporting classes" href="internals.html" />
    <link rel="prev" title="Overview" href="bdsim.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Block diagram simulation
              <img src="_static/BDSimLogo_NoBackgnd@2x.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.1.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Code documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="bdsim.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Block library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-bdsim.blocks.sources">Source blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sources.Constant"><code class="docutils literal notranslate"><span class="pre">Constant</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sources.Constant.__init__"><code class="docutils literal notranslate"><span class="pre">Constant.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sources.Piecewise"><code class="docutils literal notranslate"><span class="pre">Piecewise</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sources.Piecewise.__init__"><code class="docutils literal notranslate"><span class="pre">Piecewise.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sources.Ramp"><code class="docutils literal notranslate"><span class="pre">Ramp</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sources.Ramp.__init__"><code class="docutils literal notranslate"><span class="pre">Ramp.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sources.Step"><code class="docutils literal notranslate"><span class="pre">Step</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sources.Step.__init__"><code class="docutils literal notranslate"><span class="pre">Step.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sources.Time"><code class="docutils literal notranslate"><span class="pre">Time</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sources.Time.__init__"><code class="docutils literal notranslate"><span class="pre">Time.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sources.WaveForm"><code class="docutils literal notranslate"><span class="pre">WaveForm</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sources.WaveForm.__init__"><code class="docutils literal notranslate"><span class="pre">WaveForm.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdsim.blocks.sinks">Sink blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sinks.Null"><code class="docutils literal notranslate"><span class="pre">Null</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sinks.Null.__init__"><code class="docutils literal notranslate"><span class="pre">Null.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sinks.Print"><code class="docutils literal notranslate"><span class="pre">Print</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sinks.Print.__init__"><code class="docutils literal notranslate"><span class="pre">Print.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sinks.Stop"><code class="docutils literal notranslate"><span class="pre">Stop</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sinks.Stop.__init__"><code class="docutils literal notranslate"><span class="pre">Stop.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.sinks.Watch"><code class="docutils literal notranslate"><span class="pre">Watch</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.sinks.Watch.__init__"><code class="docutils literal notranslate"><span class="pre">Watch.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdsim.blocks.displays">Display blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.displays.Scope"><code class="docutils literal notranslate"><span class="pre">Scope</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.displays.Scope.__init__"><code class="docutils literal notranslate"><span class="pre">Scope.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.displays.ScopeXY"><code class="docutils literal notranslate"><span class="pre">ScopeXY</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.displays.ScopeXY.__init__"><code class="docutils literal notranslate"><span class="pre">ScopeXY.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.displays.ScopeXY1"><code class="docutils literal notranslate"><span class="pre">ScopeXY1</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.displays.ScopeXY1.__init__"><code class="docutils literal notranslate"><span class="pre">ScopeXY1.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#function-blocks">Function blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-bdsim.blocks.functions">Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.functions.Clip"><code class="docutils literal notranslate"><span class="pre">Clip</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.functions.Function"><code class="docutils literal notranslate"><span class="pre">Function</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.functions.Gain"><code class="docutils literal notranslate"><span class="pre">Gain</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.functions.Interpolate"><code class="docutils literal notranslate"><span class="pre">Interpolate</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.functions.Pow"><code class="docutils literal notranslate"><span class="pre">Pow</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.functions.Prod"><code class="docutils literal notranslate"><span class="pre">Prod</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.functions.Sum"><code class="docutils literal notranslate"><span class="pre">Sum</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-bdsim.blocks.linalg">Linear algebra</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Cond"><code class="docutils literal notranslate"><span class="pre">Cond</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Det"><code class="docutils literal notranslate"><span class="pre">Det</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Flatten"><code class="docutils literal notranslate"><span class="pre">Flatten</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Inverse"><code class="docutils literal notranslate"><span class="pre">Inverse</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Norm"><code class="docutils literal notranslate"><span class="pre">Norm</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Slice1"><code class="docutils literal notranslate"><span class="pre">Slice1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Slice2"><code class="docutils literal notranslate"><span class="pre">Slice2</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.linalg.Transpose"><code class="docutils literal notranslate"><span class="pre">Transpose</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-bdsim.blocks.spatial">Spatial math</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.spatial.Pose_inverse"><code class="docutils literal notranslate"><span class="pre">Pose_inverse</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.spatial.Pose_postmul"><code class="docutils literal notranslate"><span class="pre">Pose_postmul</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.spatial.Pose_premul"><code class="docutils literal notranslate"><span class="pre">Pose_premul</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.spatial.Transform_vector"><code class="docutils literal notranslate"><span class="pre">Transform_vector</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-bdsim.blocks.connections">Connection blocks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.DeMux"><code class="docutils literal notranslate"><span class="pre">DeMux</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.DeMux.__init__"><code class="docutils literal notranslate"><span class="pre">DeMux.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.Dict"><code class="docutils literal notranslate"><span class="pre">Dict</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.Dict.__init__"><code class="docutils literal notranslate"><span class="pre">Dict.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.InPort"><code class="docutils literal notranslate"><span class="pre">InPort</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.InPort.__init__"><code class="docutils literal notranslate"><span class="pre">InPort.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.Index"><code class="docutils literal notranslate"><span class="pre">Index</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.Index.__init__"><code class="docutils literal notranslate"><span class="pre">Index.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.Item"><code class="docutils literal notranslate"><span class="pre">Item</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.Item.__init__"><code class="docutils literal notranslate"><span class="pre">Item.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.Mux"><code class="docutils literal notranslate"><span class="pre">Mux</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.Mux.__init__"><code class="docutils literal notranslate"><span class="pre">Mux.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.OutPort"><code class="docutils literal notranslate"><span class="pre">OutPort</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.OutPort.__init__"><code class="docutils literal notranslate"><span class="pre">OutPort.__init__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#bdsim.blocks.connections.SubSystem"><code class="docutils literal notranslate"><span class="pre">SubSystem</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.connections.SubSystem.__init__"><code class="docutils literal notranslate"><span class="pre">SubSystem.__init__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dynamics">Dynamics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-bdsim.blocks.transfers">Continuous-time blocks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.transfers.Deriv"><code class="docutils literal notranslate"><span class="pre">Deriv</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.transfers.Integrator"><code class="docutils literal notranslate"><span class="pre">Integrator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.transfers.LTI_SISO"><code class="docutils literal notranslate"><span class="pre">LTI_SISO</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.transfers.LTI_SS"><code class="docutils literal notranslate"><span class="pre">LTI_SS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.transfers.PID"><code class="docutils literal notranslate"><span class="pre">PID</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.transfers.PoseIntegrator"><code class="docutils literal notranslate"><span class="pre">PoseIntegrator</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-bdsim.blocks.discrete">Discrete-time blocks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.discrete.DIntegrator"><code class="docutils literal notranslate"><span class="pre">DIntegrator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.discrete.DPoseIntegrator"><code class="docutils literal notranslate"><span class="pre">DPoseIntegrator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#bdsim.blocks.discrete.ZOH"><code class="docutils literal notranslate"><span class="pre">ZOH</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#external-toolbox-blocksets">External Toolbox blocksets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#robot-blocks">Robot blocks</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arm-robots">Arm robots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mobile-robots">Mobile robots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multi-rotor-flying-robots">Multi rotor flying robots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#vision-blocks">Vision blocks</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="internals.html">Supporting classes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Block diagram simulation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Block library</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/bdsim.blocks.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="bdsim.html" class="btn btn-neutral float-left" title="Overview" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="internals.html" class="btn btn-neutral float-right" title="Supporting classes" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="block-library">
<span id="id1"></span><h1>Block library<a class="headerlink" href="#block-library" title="Link to this heading"></a></h1>
<p>The block diagrams comprise blocks which belong to one of a number of different categories. These come from
the package <code class="docutils literal notranslate"><span class="pre">bdsim.blocks</span></code>, <code class="docutils literal notranslate"><span class="pre">roboticstoolbox.blocks</span></code>, <code class="docutils literal notranslate"><span class="pre">machinevisiontoolbox.blocks</span></code>.</p>
<p>Icons, if shown to the left of the black header bar, are as used with <a class="reference external" href="https://github.com/petercorke/bdsim/tree/master/bdsim/bdedit">bdedit</a>.</p>
<div class="graphviz"><img src="_images/inheritance-502fecb75342b0b2ad103dd52e016e4b46a3bc42.png" alt="Inheritance diagram of bdsim.components.SourceBlock, bdsim.components.SinkBlock, bdsim.graphics.GraphicsBlock, bdsim.components.FunctionBlock, bdsim.components.TransferBlock, bdsim.components.SubsystemBlock" usemap="#inheritance978cde46aa" class="inheritance graphviz" /></div>
<map id="inheritance978cde46aa" name="inheritance978cde46aa">
<area shape="rect" id="node1" href="internals.html#bdsim.Block" target="_top" title="bdsim.components.Block" alt="" coords="5,104,191,129"/>
<area shape="rect" id="node2" href="internals.html#bdsim.FunctionBlock" target="_top" title="A FunctionBlock is a subclass of Block that represents a block that has inputs" alt="" coords="248,5,488,31"/>
<area shape="rect" id="node3" href="internals.html#bdsim.SinkBlock" target="_top" title="A SinkBlock is a subclass of Block that represents a block that has inputs" alt="" coords="261,54,475,80"/>
<area shape="rect" id="node4" href="internals.html#bdsim.SourceBlock" target="_top" title="A SourceBlock is a subclass of Block that represents a block that has outputs" alt="" coords="253,104,483,129"/>
<area shape="rect" id="node5" href="internals.html#bdsim.SubsystemBlock" target="_top" title="A SubSystem &#160;s a subclass of Block that represents a block that has inputs" alt="" coords="239,153,497,178"/>
<area shape="rect" id="node6" href="internals.html#bdsim.TransferBlock" target="_top" title="A TransferBlock is a subclass of Block that represents a block with inputs" alt="" coords="249,202,487,227"/>
<area shape="rect" id="node7" href="internals.html#bdsim.GraphicsBlock" target="_top" title="A GraphicsBlock is a subclass of SinkBlock that represents a block that has inputs" alt="" coords="545,54,763,80"/>
</map><section id="module-bdsim.blocks.sources">
<span id="source-blocks"></span><h2>Source blocks<a class="headerlink" href="#module-bdsim.blocks.sources" title="Link to this heading"></a></h2>
<p>Source blocks:</p>
<ul class="simple">
<li><p>have outputs but no inputs</p></li>
<li><p>have no state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">SourceBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Constant">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sources.</span></span><span class="sig-name descname"><span class="pre">Constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Constant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Constant" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SourceBlock" title="bdsim.components.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    CONSTANT
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/constant.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Constant value.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>any</p></td>
<td><p>constant <code class="docutils literal notranslate"><span class="pre">value</span></code></p></td>
</tr>
</tbody>
</table>
<p>The output value is a constant and can be any
Python type, for example float, list or Numpy ndarray.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Constant.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Constant.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Constant.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>any</em><em>, </em><em>optional</em>) – the constant, defaults to 0</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Piecewise">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sources.</span></span><span class="sig-name descname"><span class="pre">Piecewise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Piecewise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Piecewise" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SourceBlock" title="bdsim.components.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceBlock</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">EventSource</span></code></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    PIECEWISE
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/piecewise.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Piecewise constant signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(y(t)\)</span></p></td>
</tr>
</tbody>
</table>
<p>Generate a signal that is a piecewise constant function of time.  This is described
as a series of 2-tuples (time, value).  The output value is taken from the active
tuple, that is, the latest one in the list whose time is no greater than simulation
time.</p>
<p>The tuples can be provided in two different ways.  Firstly, a form convenient for
Python programming:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">steering</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">PIECEWISE</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<p>Secondly, in a form that can be used from <code class="docutils literal notranslate"><span class="pre">bdsim</span></code> where we explicitly pass
in a list in a way that can be represented in a JSON file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">steering</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">PIECEWISE</span><span class="p">(</span><span class="n">seq</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mf">0.5</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">0</span><span class="p">)])</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/a05c513c6d3e3865ec71cfc224b47cde/bdsim-blocks-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/c31a0877fd474ea3e3ffe8af12e14ca0/bdsim-blocks-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/c7ed87778ecb47fd695ea2af7e002d32/bdsim-blocks-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/8f5b56760a2795d4a6ee86274f048a29/bdsim-blocks-1.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="_images/bdsim-blocks-1.png" class="plot-directive" src="_images/bdsim-blocks-1.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The tuples must be ordered by monotonically increasing time.</p></li>
<li><p>There is no default initial value, the list should contain
a tuple with time zero otherwise the output will be undefined.</p></li>
<li><p>The 2-tuples can</p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The block declares an event for the start of each segment.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">declare_events()</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Piecewise.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Piecewise.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Piecewise.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seq</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em> of </em><em>2-element iterables</em>) – sequence of time, value pairs</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Ramp">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sources.</span></span><span class="sig-name descname"><span class="pre">Ramp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Ramp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Ramp" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SourceBlock" title="bdsim.components.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceBlock</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">EventSource</span></code></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    RAMP
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/ramp.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Ramp signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(y(t)\)</span></p></td>
</tr>
</tbody>
</table>
<p>Generate a signal that starts increasing from the value <code class="docutils literal notranslate"><span class="pre">off</span></code> when time equals
<code class="docutils literal notranslate"><span class="pre">T</span></code> linearly with time, with a gradient of <code class="docutils literal notranslate"><span class="pre">slope</span></code>.</p>
<p>Example:</p>
<blockquote>
<div><p>step = bd.RAMP(2, off=-1, slope=2/3, T=2)</p>
</div></blockquote>
<p>(<a class="reference download internal" download="" href="_downloads/1af86ac96b6768aeeb7f604be5cc95fe/bdsim-blocks-2.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/44eeb6e9c91a73924ef3f64c001d18da/bdsim-blocks-2.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/6049586f3325d1ecd5e7e09056358ec0/bdsim-blocks-2.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/0cc82057e50fe217eb29a43324941fae/bdsim-blocks-2.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="_images/bdsim-blocks-2.png" class="plot-directive" src="_images/bdsim-blocks-2.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The block declares an event for the ramp start time.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">declare_event()</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Ramp.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">off</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Ramp.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Ramp.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – time of ramp start, defaults to 1</p></li>
<li><p><strong>off</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – initial value, defaults to 0</p></li>
<li><p><strong>slope</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – gradient of slope, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Step">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sources.</span></span><span class="sig-name descname"><span class="pre">Step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Step" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SourceBlock" title="bdsim.components.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceBlock</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">EventSource</span></code></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    STEP
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/step.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Step signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(y(t)\)</span></p></td>
</tr>
</tbody>
</table>
<p>Generate a step signal that transitions from the value <code class="docutils literal notranslate"><span class="pre">off</span></code> to <code class="docutils literal notranslate"><span class="pre">on</span></code> when time
equals <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p>
<p>Example:</p>
<blockquote>
<div><p>step = bd.STEP(2, off=-1, on=1)</p>
</div></blockquote>
<p>(<a class="reference download internal" download="" href="_downloads/4deb6fea2461a9ca377ae7c44f944e9c/bdsim-blocks-3.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/cfc6c3aea7998cb820138ad94c36e266/bdsim-blocks-3.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/3985beb18a365e3b8c6edf5b8e9c97e0/bdsim-blocks-3.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/7c2e322c25c9cc59eb7850c0ec6ac69b/bdsim-blocks-3.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="_images/bdsim-blocks-3.png" class="plot-directive" src="_images/bdsim-blocks-3.png" />
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The block declares an event for the step time.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">declare_events()</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Step.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">T</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">off</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Step.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Step.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>T</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – time of step, defaults to 1</p></li>
<li><p><strong>off</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – initial value, defaults to 0</p></li>
<li><p><strong>on</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – final value, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Time">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sources.</span></span><span class="sig-name descname"><span class="pre">Time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Time" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SourceBlock" title="bdsim.components.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    TIME
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/time.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Simulation time.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(t\)</span></p></td>
</tr>
</tbody>
</table>
<p>Outputs the current simulation time.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">time</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">TIME</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sources.Time.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#Time.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.Time.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sources.WaveForm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sources.</span></span><span class="sig-name descname"><span class="pre">WaveForm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#WaveForm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.WaveForm" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SourceBlock" title="bdsim.components.SourceBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceBlock</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">EventSource</span></code></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    WAVEFORM
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/waveform.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Waveform generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(y(t)\)</span></p></td>
</tr>
</tbody>
</table>
<p>A general waveform generator.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wave</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WAVEFORM</span><span class="p">(</span><span class="n">wave</span><span class="o">=</span><span class="s1">&#39;sine&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>   <span class="c1"># 2Hz sine wave varying from -1 to 1</span>
<span class="n">wave</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WAVEFORM</span><span class="p">(</span><span class="n">wave</span><span class="o">=</span><span class="s1">&#39;square&#39;</span><span class="p">,</span> <span class="n">freq</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">unit</span><span class="o">=</span><span class="s1">&#39;rad/s&#39;</span><span class="p">)</span> <span class="c1"># 2rad/s square wave varying from -1 to 1</span>
</pre></div>
</div>
<p>The minimum and maximum values of the waveform are given by default in
terms of amplitude and offset. The signals are symmetric about the offset
value. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wave</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WAVEFORM</span><span class="p">(</span><span class="n">wave</span><span class="o">=</span><span class="s1">&#39;sine&#39;</span><span class="p">)</span> <span class="c1"># varies between -1 and +1</span>
<span class="n">wave</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WAVEFORM</span><span class="p">(</span><span class="n">wave</span><span class="o">=</span><span class="s1">&#39;sine&#39;</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># varies between -2 and +2</span>
<span class="n">wave</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WAVEFORM</span><span class="p">(</span><span class="n">wave</span><span class="o">=</span><span class="s1">&#39;sine&#39;</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># varies between 0 and +2</span>
<span class="n">wave</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WAVEFORM</span><span class="p">(</span><span class="n">wave</span><span class="o">=</span><span class="s1">&#39;sine&#39;</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># varies between -1 and +3</span>
</pre></div>
</div>
<p>Alternatively we can specify the minimum and maximum values which override
amplitude and offset:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wave</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WAVEFORM</span><span class="p">(</span><span class="n">wave</span><span class="o">=</span><span class="s1">&#39;triangle&#39;</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># varies between 0 and +5</span>
</pre></div>
</div>
<p>At time 0 the sine and triangle wave are zero and increasing, and the
square wave has its first rise.  We can specify a phase shift with
a number in the range [0,1] where 1 corresponds to one cycle.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For discontinuous signals (square, triangle) the block declares
events for every discontinuity.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">declare_events()</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sources.WaveForm.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'square'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Hz'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amplitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sources.html#WaveForm.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sources.WaveForm.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wave</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – type of waveform to generate, one of: ‘sine’, ‘square’ [default], ‘triangle’</p></li>
<li><p><strong>freq</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – frequency, defaults to 1</p></li>
<li><p><strong>unit</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – frequency unit, one of: ‘rad/s’, ‘Hz’ [default]</p></li>
<li><p><strong>amplitude</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – amplitude, defaults to 1</p></li>
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – signal offset, defaults to 0</p></li>
<li><p><strong>phase</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – Initial phase of signal in the range [0,1], defaults to 0</p></li>
<li><p><strong>min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – minimum value, defaults to None</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – maximum value, defaults to None</p></li>
<li><p><strong>duty</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em>, </em><em>optional</em>) – duty cycle for square wave in range [0,1], defaults to 0.5</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bdsim.blocks.sinks">
<span id="sink-blocks"></span><h2>Sink blocks<a class="headerlink" href="#module-bdsim.blocks.sinks" title="Link to this heading"></a></h2>
<p>Sink blocks:</p>
<ul class="simple">
<li><p>have inputs but no outputs</p></li>
<li><p>have no state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">SinkBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
<li><p>that perform graphics are a subclass of  <code class="docutils literal notranslate"><span class="pre">GraphicsBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">SinkBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Null">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sinks.</span></span><span class="sig-name descname"><span class="pre">Null</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Null"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Null" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SinkBlock" title="bdsim.components.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SinkBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    NULL
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/null.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Discard signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
</tbody>
</table>
<p>Create a sink block with arbitrary number of input ports that discards
all data, like <code class="docutils literal notranslate"><span class="pre">/dev/null</span></code>. Useful for testing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">bdsim</span></code> issues a warning for unconnected outputs but execution can continue.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Null.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Null.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Null.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – number of input ports, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Print">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sinks.</span></span><span class="sig-name descname"><span class="pre">Print</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Print"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Print" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SinkBlock" title="bdsim.components.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SinkBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    PRINT
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/print.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Print signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
</tbody>
</table>
<p>Creates a console print block which displays the value of the input signal
at each simulation time step. The display format is like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PRINT</span><span class="p">(</span><span class="nb">print</span><span class="mf">.0</span> <span class="o">@</span> <span class="n">t</span><span class="o">=</span><span class="mf">0.100</span><span class="p">)</span> <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span> <span class="mf">0.2</span><span class="p">]</span>
</pre></div>
</div>
<p>and includes the block name, time, and the formatted value.</p>
<p>The numerical formatting of the signal is controlled by <code class="docutils literal notranslate"><span class="pre">fmt</span></code>:</p>
<ul>
<li><p>if not provided, <code class="docutils literal notranslate"><span class="pre">str()</span></code> is used to format the signal</p></li>
<li><p>if provided:</p>
<blockquote>
<div><ul class="simple">
<li><p>a scalar is formatted by the <code class="docutils literal notranslate"><span class="pre">fmt.format()</span></code></p></li>
<li><p>a NumPy array is formatted by <code class="docutils literal notranslate"><span class="pre">fmt.format()</span></code> applied to every
element</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bd</span><span class="o">.</span><span class="n">PRINT</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">)</span>  <span class="c1"># block name appears in the printed text</span>
<span class="n">bd</span><span class="o">.</span><span class="n">PRINT</span><span class="p">(</span><span class="n">fmt</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># print with explicit format</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>By default writes to stdout</p></li>
<li><p>The output is cleaner if progress bar printing is disabled using the
<code class="docutils literal notranslate"><span class="pre">-p</span></code> command line option.</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Print.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Print.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Print.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fmt</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – Format string, defaults to None</p></li>
<li><p><strong>file</strong> (<em>file object</em><em>, </em><em>optional</em>) – file to write data to, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A PRINT block</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Print instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Stop">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sinks.</span></span><span class="sig-name descname"><span class="pre">Stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Stop" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SinkBlock" title="bdsim.components.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SinkBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    STOP
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/stop.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Conditionally stop simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
</tbody>
</table>
<p>Conditionally stop the simulation if the input <span class="math notranslate nohighlight">\(x\)</span> is:</p>
<ul class="simple">
<li><p>bool type and True</p></li>
<li><p>numeric type and &gt; 0</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">func</span></code> is provided, then it is applied to the block input
and if it returns True the simulation is stopped.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Stop.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Stop.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Stop.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em><em>, </em><em>optional</em>) – evaluate stop condition, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Watch">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.sinks.</span></span><span class="sig-name descname"><span class="pre">Watch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Watch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Watch" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SinkBlock" title="bdsim.components.SinkBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SinkBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    WATCH
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/watch.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Watch a signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
</tbody>
</table>
<p>Causes the output ports connected to this block’s input ports <span class="math notranslate nohighlight">\(x_i\)</span> to be
logged during the simulation run. Equivalent to adding it as the <code class="docutils literal notranslate"><span class="pre">watch=</span></code> argument
to <code class="docutils literal notranslate"><span class="pre">bdsim.run</span></code>.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">step</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">STEP</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">ramp</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">RAMP</span><span class="p">()</span>
<span class="n">watch</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">WATCH</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># watch 2 ports</span>
<span class="n">watch</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">step</span>
<span class="n">watch</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">ramp</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a href="#id2"><span class="problematic" id="id3">:method:`BDSim.run`</span></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.sinks.Watch.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/sinks.html#Watch.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.sinks.Watch.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – number of input ports, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bdsim.blocks.displays">
<span id="display-blocks"></span><h2>Display blocks<a class="headerlink" href="#module-bdsim.blocks.displays" title="Link to this heading"></a></h2>
<p>Sink blocks:</p>
<ul class="simple">
<li><p>have inputs but no outputs</p></li>
<li><p>have no state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">SinkBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
<li><p>that perform graphics are a subclass of  <code class="docutils literal notranslate"><span class="pre">GraphicsBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">SinkBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.displays.Scope">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.displays.</span></span><span class="sig-name descname"><span class="pre">Scope</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/displays.html#Scope"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.displays.Scope" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.GraphicsBlock" title="bdsim.graphics.GraphicsBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphicsBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    SCOPE
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/scope.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Plot input signals against time.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span> is the i’th line</p></td>
</tr>
</tbody>
</table>
<p>Create a scope block that plots multiple signals against time.</p>
<p>For each line plotted we can specify the:</p>
<ul class="simple">
<li><p>line style as a heterogeneous list of:</p>
<ul>
<li><p>Matplotlib <cite>fmt</cite> string comprising a color and line style, eg. <code class="docutils literal notranslate"><span class="pre">&quot;k&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;r:&quot;</span></code></p></li>
<li><p>a dict of Matplotlib line style options for <a class="reference external" href="https://matplotlib.org/3.2.2/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D">Line2D</a>
, eg. <code class="docutils literal notranslate"><span class="pre">{&quot;color&quot;:</span> <span class="pre">&quot;k&quot;,</span> <span class="pre">&quot;linewidth&quot;:</span> <span class="pre">3,</span> <span class="pre">&quot;alpha&quot;:</span> <span class="pre">0.5)</span></code></p></li>
</ul>
</li>
<li><p>line label, used in the legend and vertical axis. This can include math mode
notation or unicode characters.</p></li>
</ul>
<p>The vertical scale factor defaults to auto-scaling but can be fixed by
providing a 2-tuple <code class="docutils literal notranslate"><span class="pre">[ymin,</span> <span class="pre">ymax]</span></code>. All lines are plotted against the
same vertical scale.</p>
<figure class="align-default" id="id8">
<a class="reference internal image-reference" href="_images/Figure_1.png"><img alt="example of generated graphic" src="_images/Figure_1.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text">Example of scope display.</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><strong>Scalar input ports against time</strong></p>
<p>The number of lines to plot will be inferred from:</p>
<ul class="simple">
<li><p>the length of the <code class="docutils literal notranslate"><span class="pre">labels</span></code> list if specified</p></li>
<li><p>the length of the <code class="docutils literal notranslate"><span class="pre">styles</span></code> list if specified</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nin</span></code> if specified, it defaults to 1</p></li>
</ul>
<p>These numbers must be consistent.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bd</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">()</span>       <span class="c1"># a scope with 1 input port</span>
<span class="n">bd</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">(</span><span class="n">nin</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># a scope with 3 input ports</span>
<span class="n">bd</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">(</span><span class="n">styles</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;k&quot;</span><span class="p">,</span> <span class="s2">&quot;r--&quot;</span><span class="p">])</span>        <span class="c1"># a scope with 2 input ports</span>
<span class="n">bd</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;$\gamma$&quot;</span><span class="p">])</span>  <span class="c1"># a scope with 2 input ports</span>
<span class="n">bd</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">(</span><span class="n">styles</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">:</span> <span class="s1">&#39;--&#39;</span><span class="p">}])</span>
</pre></div>
</div>
<p><strong>Single input port with NumPy array</strong></p>
<p>The port is fed with a 1D-array, and <code class="docutils literal notranslate"><span class="pre">vector</span></code> is an:</p>
<ul class="simple">
<li><p>int, this is the expected width of the array, all its elements will be plotted</p></li>
<li><p>a list of ints, interpretted as indices of the elements to plot.</p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bd</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">(</span><span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># display elements 0, 1, 2 of array on port 0</span>
<span class="n">bd</span><span class="o">.</span><span class="n">SCOPE</span><span class="p">(</span><span class="n">vector</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">styles</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;linestyle&#39;</span><span class="p">:</span> <span class="s1">&#39;--&#39;</span><span class="p">}])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If the vector is of width 3, by default the inputs are plotted as red, green
and blue lines.</p></li>
<li><p>If the vector is of width 6, by default the first three inputs are plotted as
solid red, green and blue lines and the last three inputs are plotted as
dashed red, green and blue lines.</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.displays.Scope.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">styles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stairs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">watch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'best'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/displays.html#Scope.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.displays.Scope.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – number of inputs, defaults to 1 or if given, the length of
style vector</p></li>
<li><p><strong>vector</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>, </em><em>optional</em>) – vector signal on single input port, defaults to None</p></li>
<li><p><strong>styles</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em> of </em><em>strings</em><em> or </em><em>dicts; one per line</em><em>, </em><em>optional</em>) – styles for each line to be plotted</p></li>
<li><p><strong>stairs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – force staircase style plot for all lines, defaults to False</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>array_like</em><em>(</em><em>2</em><em>)</em>) – fixed y-axis scale or defaults to ‘auto’</p></li>
<li><p><strong>labels</strong> (<em>sequence</em><em> of </em><em>strings</em>) – vertical axis labels</p></li>
<li><p><strong>grid</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em> or </em><em>sequence</em>) – draw a grid, defaults to True. Can be boolean or a tuple of
options for grid()</p></li>
<li><p><strong>watch</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – add these signals to the watchlist, defaults to False</p></li>
<li><p><strong>title</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – title of plot</p></li>
<li><p><strong>loc</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – location of legend, see <code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.pyplot.legend()</span></code>, defaults to “best”</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.displays.ScopeXY">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.displays.</span></span><span class="sig-name descname"><span class="pre">ScopeXY</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/displays.html#ScopeXY"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.displays.ScopeXY" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.GraphicsBlock" title="bdsim.graphics.GraphicsBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">GraphicsBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    SCOPEXY
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/scopexy.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Plot X against Y.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Input</p></td>
<td><p>1</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>Create an XY scope where input <span class="math notranslate nohighlight">\(y\)</span> (vertical axis) is plotted against <span class="math notranslate nohighlight">\(x\)</span>
(horizontal axis).</p>
<p>Line style is one of:</p>
<blockquote>
<div><ul class="simple">
<li><p>Matplotlib <cite>fmt</cite> string comprising a color and line style, eg. <code class="docutils literal notranslate"><span class="pre">&quot;k&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;r:&quot;</span></code></p></li>
<li><p>a dict of Matplotlib line style options for <a class="reference external" href="https://matplotlib.org/3.2.2/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D">Line2D</a>
, eg. <code class="docutils literal notranslate"><span class="pre">dict(color=&quot;k&quot;,</span> <span class="pre">linewidth=3,</span> <span class="pre">alpha=0.5)</span></code></p></li>
</ul>
</div></blockquote>
<p>The scale factor defaults to auto-scaling but can be fixed by
providing either:</p>
<blockquote>
<div><ul class="simple">
<li><p>a 2-tuple <code class="docutils literal notranslate"><span class="pre">[min,</span> <span class="pre">max]</span></code> which is used for the x- and y-axes</p></li>
<li><p>a 4-tuple <code class="docutils literal notranslate"><span class="pre">[xmin,</span> <span class="pre">xmax,</span> <span class="pre">ymin,</span> <span class="pre">ymax]</span></code></p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.displays.ScopeXY.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aspect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'equal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['X',</span> <span class="pre">'Y']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/displays.html#ScopeXY.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.displays.ScopeXY.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>style</strong> (<em>optional str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – line style, defaults to None</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>array_like</em><em>(</em><em>2</em><em>) or </em><em>array_like</em><em>(</em><em>4</em><em>)</em>) – fixed y-axis scale or defaults to ‘auto’</p></li>
<li><p><strong>labels</strong> (<em>2-element tuple</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – axis labels (xlabel, ylabel), defaults to [“X”,”Y”]</p></li>
<li><p><strong>init</strong> (<em>callable</em>) – function to initialize the graphics, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.displays.ScopeXY1">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.displays.</span></span><span class="sig-name descname"><span class="pre">ScopeXY1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/displays.html#ScopeXY1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.displays.ScopeXY1" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#bdsim.blocks.displays.ScopeXY" title="bdsim.blocks.displays.ScopeXY"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScopeXY</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    SCOPEXY1
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/scopexy1.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Plot X[0] against X[1].</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
</tbody>
</table>
<p>Create an XY scope where input <span class="math notranslate nohighlight">\(x_j\)</span> (vertical axis) is plotted against
<span class="math notranslate nohighlight">\(x_i\)</span> (horizontal axis). This block has one vector input and the elements to
be plotted are given by a 2-element iterable <span class="math notranslate nohighlight">\((i, j)\)</span>.</p>
<p>Line style is one of:</p>
<blockquote>
<div><ul class="simple">
<li><p>Matplotlib <cite>fmt</cite> string comprising a color and line style, eg. <code class="docutils literal notranslate"><span class="pre">&quot;k&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;r:&quot;</span></code></p></li>
<li><p>a dict of Matplotlib line style options for <a class="reference external" href="https://matplotlib.org/3.2.2/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D">Line2D</a>
, eg. <code class="docutils literal notranslate"><span class="pre">dict(color=&quot;k&quot;,</span> <span class="pre">linewidth=3,</span> <span class="pre">alpha=0.5)</span></code></p></li>
</ul>
</div></blockquote>
<p>The scale factor defaults to auto-scaling but can be fixed by
providing either:</p>
<blockquote>
<div><ul class="simple">
<li><p>a 2-tuple <code class="docutils literal notranslate"><span class="pre">[min,</span> <span class="pre">max]</span></code> which is used for the x- and y-axes</p></li>
<li><p>a 4-tuple <code class="docutils literal notranslate"><span class="pre">[xmin,</span> <span class="pre">xmax,</span> <span class="pre">ymin,</span> <span class="pre">ymax]</span></code></p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.displays.ScopeXY1.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/displays.html#ScopeXY1.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.displays.ScopeXY1.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<em>array_like</em><em>(</em><em>2</em><em>)</em>) – indices of elements to select from block input vector, defaults to [0,1]</p></li>
<li><p><strong>style</strong> (<em>optional str</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – line style</p></li>
<li><p><strong>scale</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><em>array_like</em><em>(</em><em>2</em><em>) or </em><em>array_like</em><em>(</em><em>4</em><em>)</em>) – fixed y-axis scale or defaults to ‘auto’</p></li>
<li><p><strong>labels</strong> (<em>2-element tuple</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – axis labels (xlabel, ylabel)</p></li>
<li><p><strong>init</strong> (<em>callable</em>) – function to initialize the graphics, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="function-blocks">
<h2>Function blocks<a class="headerlink" href="#function-blocks" title="Link to this heading"></a></h2>
<section id="module-bdsim.blocks.functions">
<span id="functions"></span><h3>Functions<a class="headerlink" href="#module-bdsim.blocks.functions" title="Link to this heading"></a></h3>
<p>Function blocks:</p>
<ul class="simple">
<li><p>have inputs and outputs</p></li>
<li><p>have no state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">FunctionBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Clip">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.functions.</span></span><span class="sig-name descname"><span class="pre">Clip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Clip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Clip" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    CLIP
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/clip.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Signal clipping.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\min(\max(x,a), b)\)</span></p></td>
</tr>
</tbody>
</table>
<p>The input signal is clipped to the range from <code class="docutils literal notranslate"><span class="pre">minimum</span></code> to <code class="docutils literal notranslate"><span class="pre">maximum</span></code> inclusive.</p>
<p>The signal can be a 1D-array in which case each element is clipped.  The
minimum and maximum values can be:</p>
<blockquote>
<div><ul class="simple">
<li><p>a scalar, in which case the same value applies to every element of
the input vector , or</p></li>
<li><p>a 1D-array, of the same shape as the input vector that applies elementwise to
the input vector.</p></li>
</ul>
</div></blockquote>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clip</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">CLIP</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Clip.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Clip.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Clip.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min</strong> (<em>scalar</em><em> or </em><em>array_like</em><em>, </em><em>optional</em>) – Minimum value, defaults to -math.inf</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array_like</em><em>, </em><em>optional</em>) – Maximum value, defaults to math.inf</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Function">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.functions.</span></span><span class="sig-name descname"><span class="pre">Function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persistent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fkwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Function"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Function" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    FUNCTION
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/function.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Python function.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>M</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>j</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(f_j(x_0, \ldots, x_{N-1})\)</span></p></td>
</tr>
</tbody>
</table>
<p>Inputs to the block are passed as separate arguments to the function.
Programmatic ositional or keyword arguments can also be passed to the function.</p>
<p>A block with one output port that sums its two input ports is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">FUNCTION</span><span class="p">(</span><span class="k">lambda</span> <span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">:</span> <span class="n">u1</span><span class="o">+</span><span class="n">u2</span><span class="p">,</span> <span class="n">nin</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>A block with a function that takes two inputs and has two additional arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">,</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">FUNCTION</span><span class="p">(</span><span class="n">myfun</span><span class="p">,</span> <span class="n">nin</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">))</span>
</pre></div>
</div>
<p>If we need access to persistent (static) data, to keep some state:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">,</span> <span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">func</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">FUNCTION</span><span class="p">(</span><span class="n">myfun</span><span class="p">,</span> <span class="n">nin</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="n">p2</span><span class="p">),</span> <span class="n">persistent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>where a dictionary is passed in as the last argument and which is kept from call to call.</p>
<p>A block with a function that takes two inputs and additional keyword arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">,</span> <span class="n">param1</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">param3</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">param4</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">func</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">FUNCTION</span><span class="p">(</span><span class="n">myfun</span><span class="p">,</span> <span class="n">nin</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">param2</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">param3</span><span class="o">=</span><span class="mi">8</span><span class="p">))</span>
</pre></div>
</div>
<p>A block with two inputs and two outputs, the outputs are defined by two lambda
functions with the same inputs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FUNCTION</span><span class="p">(</span> <span class="p">[</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x_t</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span> <span class="n">y</span><span class="p">])</span>
</pre></div>
</div>
<p>A block with two inputs and two outputs, the outputs are defined by a
single function which returns a list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfun</span><span class="p">(</span><span class="n">u1</span><span class="p">,</span> <span class="n">u2</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span> <span class="n">u1</span><span class="o">+</span><span class="n">u2</span><span class="p">,</span> <span class="n">u1</span><span class="o">*</span><span class="n">u2</span> <span class="p">]</span>

<span class="n">func</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">FUNCTION</span><span class="p">(</span> <span class="n">myfun</span><span class="p">,</span> <span class="n">nin</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">nout</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Function.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">persistent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fkwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Function.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Function.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em><em> or </em><em>sequence</em><em> of </em><em>callables</em><em>, </em><em>optional</em>) – function or lambda, or list thereof, defaults to None</p></li>
<li><p><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – number of inputs, defaults to 1</p></li>
<li><p><strong>nout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – number of outputs, defaults to 1</p></li>
<li><p><strong>persistent</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – pass in a reference to a dictionary instance to hold persistent state, defaults to False</p></li>
<li><p><strong>fargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>, </em><em>optional</em>) – extra positional arguments passed to the function, defaults to []</p></li>
<li><p><strong>fkwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – extra keyword arguments passed to the function, defaults to {}</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a><em>, </em><em>optional</em>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Gain">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.functions.</span></span><span class="sig-name descname"><span class="pre">Gain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">premul</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Gain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Gain" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    GAIN
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/gain.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Gain block.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(K x\)</span></p></td>
</tr>
</tbody>
</table>
<p>Either or both the input and gain can be Numpy arrays and Numpy will
compute the appropriate product <span class="math notranslate nohighlight">\(u K\)</span>.</p>
<p>If <span class="math notranslate nohighlight">\(u\)</span> and <code class="docutils literal notranslate"><span class="pre">K</span></code> are both NumPy arrays the <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> operator is used
and <span class="math notranslate nohighlight">\(u\)</span> is postmultiplied by the gain. To premultiply by the gain,
to compute <span class="math notranslate nohighlight">\(K u\)</span> use the <code class="docutils literal notranslate"><span class="pre">premul</span></code> option.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gain</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">GAIN</span><span class="p">(</span><span class="mf">2.5</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Gain.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">K</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">premul</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Gain.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Gain.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>K</strong> (<em>scalar</em><em>, </em><em>array_like</em>) – The gain value, defaults to 1</p></li>
<li><p><strong>premul</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – premultiply by constant, default is postmultiply, defaults to False</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Interpolate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.functions.</span></span><span class="sig-name descname"><span class="pre">Interpolate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Interpolate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Interpolate" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    INTERPOLATE
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/interpolate.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Interpolate signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>int, float</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(f(x)\)</span></p></td>
</tr>
</tbody>
</table>
<p>Interpolate a scalar function of a scalar.</p>
<p>A simple triangle function with domain [0,10] and range [0,1] can be
defined by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">interp</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">INTERPOLATE</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
<p>We might also express this as a list of 2D-coordinates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">interp</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">INTERPOLATE</span><span class="p">(</span><span class="n">xy</span><span class="o">=</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">)])</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="_downloads/d6f75e3f2207f57b04a59ef68aa6b083/bdsim-blocks-4.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="_downloads/1f2b109b9046831cc8ab0b246664d5a2/bdsim-blocks-4.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="_downloads/2d00da087c5bd83c10693c7e810d2b38/bdsim-blocks-4.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="_downloads/b7447b8817b18dc5dc43309790df03cc/bdsim-blocks-4.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="_images/bdsim-blocks-4.png" class="plot-directive" src="_images/bdsim-blocks-4.png" />
</figure>
<p>The data can also be expressed as Numpy arrays.  If that is the case,
the interpolation function can be vector valued. <code class="docutils literal notranslate"><span class="pre">x</span></code> has a shape of
(N,1) and <code class="docutils literal notranslate"><span class="pre">y</span></code> has a shape of (N,M).  Alternatively <code class="docutils literal notranslate"><span class="pre">xy</span></code> has a shape
of (N,M+1) and the first column is the x-data.</p>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>if <code class="docutils literal notranslate"><span class="pre">time=True</span></code>.  In this case the block has no
input ports and is a <code class="docutils literal notranslate"><span class="pre">Source</span></code> not a <code class="docutils literal notranslate"><span class="pre">Function</span></code> block.</p>
</dd>
<dt class="field-even">Seealso<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.interpolate.interp1d()</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Interpolate.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Interpolate.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Interpolate.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array_like</em><em>, </em><em>shape</em><em> (</em><em>N</em><em>,</em><em>) </em><em>optional</em>) – x-values of function, defaults to None</p></li>
<li><p><strong>y</strong> (<em>array_like</em><em>, </em><em>optional</em>) – y-values of function, defaults to None</p></li>
<li><p><strong>xy</strong> (<em>array_like</em><em>, </em><em>optional</em>) – combined x- and y-values of function, defaults to None</p></li>
<li><p><strong>time</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – x new is simulation time, defaults to False</p></li>
<li><p><strong>kind</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – interpolation method, defaults to ‘linear’</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Pow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.functions.</span></span><span class="sig-name descname"><span class="pre">Pow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Pow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Pow" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    POW
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/pow.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Power block.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x^p\)</span></p></td>
</tr>
</tbody>
</table>
<p>If the input is a Numpy array the result depends on <code class="docutils literal notranslate"><span class="pre">matrix</span></code>.
If <code class="docutils literal notranslate"><span class="pre">matrix</span></code> is False the block performs an elementwise exponentiation and
the result is a Numpy array of the same size.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">matrix</span></code> is True and the input is a square matrix and <code class="docutils literal notranslate"><span class="pre">p</span></code> is an integer
then matrixwise exponentiation is performedand using repeated matrix
multiplication and matrix inversion.  If <code class="docutils literal notranslate"><span class="pre">p</span></code> is not an integer it uses SciPy
to compute the power using an eigenvalue decomposition.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">pow</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">POW</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.matrix_power.html#numpy.linalg.matrix_power" title="(in NumPy v2.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.linalg.matrix_power()</span></code></a> <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.linalg.fractional_matrix_power.html#scipy.linalg.fractional_matrix_power" title="(in SciPy v1.14.0)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.linalg.fractional_matrix_power()</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Pow.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Pow.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Pow.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>scalar</em>) – The exponent value, defaults to 1</p></li>
<li><p><strong>matrix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – premultiply by constant, default is postmultiply, defaults to False</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Prod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.functions.</span></span><span class="sig-name descname"><span class="pre">Prod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ops</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'**'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Prod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Prod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    PROD
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/prod.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Product junction.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\prod_i \{x_i | \frac{1}{x_i}\}\)</span></p></td>
</tr>
</tbody>
</table>
<p>Multiply or divide input signals according to the <code class="docutils literal notranslate"><span class="pre">ops</span></code> string.  The
number of input ports is the length of this string.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">prod</span> <span class="o">=</span> <span class="n">PROD</span><span class="p">(</span><span class="s1">&#39;*/*&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>is a 3-input product junction which computes <code class="docutils literal notranslate"><span class="pre">in[0]</span> <span class="pre">/</span> <span class="pre">in[1]</span> <span class="pre">*</span> <span class="pre">in[2]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>By default the <code class="docutils literal notranslate"><span class="pre">*</span></code> and <code class="docutils literal notranslate"><span class="pre">/</span></code> operators are used which perform element-wise
operations.</p>
</dd>
<dt class="field-even">Note<span class="colon">:</span></dt>
<dd class="field-even"><p>The option <code class="docutils literal notranslate"><span class="pre">matrix</span></code> will instead use <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;</span> <span class="pre">np.linalg.inv()</span></code>. The
shapes of matrices must conform.  A matrix on a <code class="docutils literal notranslate"><span class="pre">/</span></code> input must be square and
non-singular.  Matrices are multiplied in ascending port order.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Prod.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ops</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'**'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Prod.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Prod.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ops</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – operations associated with input ports, accepted characters: * or /, defaults to ‘**’</p></li>
<li><p><strong>inputs</strong> (<a class="reference internal" href="internals.html#bdsim.Block" title="bdsim.Block"><em>Block</em></a><em> or </em><a class="reference internal" href="internals.html#bdsim.Plug" title="bdsim.Plug"><em>Plug</em></a>) – Optional incoming connections</p></li>
<li><p><strong>matrix</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – Arguments are matrices, defaults to False</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Sum">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.functions.</span></span><span class="sig-name descname"><span class="pre">Sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'++'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Sum"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Sum" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    SUM
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/sum.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Summing junction.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>int, float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\sum_i \pm x_i\)</span></p></td>
</tr>
</tbody>
</table>
<p>Add or subtract input signals according to the <code class="docutils literal notranslate"><span class="pre">signs</span></code> string.  The
number of input ports is the length of this string.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SUM</span><span class="p">(</span><span class="s1">&#39;+-+&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>is a 3-input summing junction which computes <code class="docutils literal notranslate"><span class="pre">in[0]</span> <span class="pre">-</span> <span class="pre">in[1]</span> <span class="pre">+</span> <span class="pre">in[2]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Note<span class="colon">:</span></dt>
<dd class="field-odd"><p>The signals must be compatible for addition, and if some are
arrays they must be broadcastable.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.functions.Sum.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'++'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/functions.html#Sum.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.functions.Sum.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – signs associated with input ports, accepted characters: + or -, defaults to “++”</p></li>
<li><p><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – controls addition mode, per element, string comprises <code class="docutils literal notranslate"><span class="pre">r</span></code> or <code class="docutils literal notranslate"><span class="pre">c</span></code> or <code class="docutils literal notranslate"><span class="pre">C</span></code> or <code class="docutils literal notranslate"><span class="pre">L</span></code>, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mode</span></code> controls how elements of the input vectors are added/subtracted.
Elements which are angles must be treated specially, and this is indicated by
the corresponding characters in <code class="docutils literal notranslate"><span class="pre">mode</span></code>.  The string’s length must equal the
width of the input vectors. The characters of the string can be:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>mode character</p></th>
<th class="head"><p>purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>r</p></td>
<td><p>real number, don’t wrap (default)</p></td>
</tr>
<tr class="row-odd"><td><p>c</p></td>
<td><p>angle on circle, wrap to [-π, π)</p></td>
</tr>
<tr class="row-even"><td><p>C</p></td>
<td><p>angle on circle, wrap to [0, 2π)</p></td>
</tr>
<tr class="row-odd"><td><p>L</p></td>
<td><p>colatitude angle, wrap to [0, π]</p></td>
</tr>
</tbody>
</table>
<p>For example if <code class="docutils literal notranslate"><span class="pre">mode=&quot;rc&quot;</span></code> then a 2-element array would have its
second element wrapped to the range [-π, π).</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-bdsim.blocks.linalg">
<span id="linear-algebra"></span><h3>Linear algebra<a class="headerlink" href="#module-bdsim.blocks.linalg" title="Link to this heading"></a></h3>
<p>Linear algebra blocks:</p>
<ul class="simple">
<li><p>have inputs and outputs</p></li>
<li><p>have no state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">FunctionBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Cond">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Cond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Cond"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Cond" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    COND
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/cond.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Matrix condition number.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mbox{cond}(\mathbf{A})\)</span></p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.cond.html">numpy.linalg.cond</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Cond.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Cond.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Cond.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Det">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Det</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Det"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Det" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    DET
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/det.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Matrix determinant.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mbox{det}(\mathbf{A})\)</span></p></td>
</tr>
</tbody>
</table>
<p>Compute the matrix determinant.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.det.html">numpy.linalg.det</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Det.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Det.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Det.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Flatten">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Flatten" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    FLATTEN
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/flatten.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Flatten a multi-dimensional array.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mbox{vec}(\mathbf{A})\)</span></p></td>
</tr>
</tbody>
</table>
<p>Flattens the incoming array in either row major (‘C’) or column major (‘F’) order.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.flatten.html">numpy.flatten</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Flatten.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'C'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Flatten.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Flatten.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – flattening order, either “C” or “F”, defaults to “C”</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Inverse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Inverse" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    INVERSE
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/inverse.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Matrix inverse.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>2</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}^{-1}\)</span></p></td>
</tr>
<tr class="row-even"><td><p>Output</p></td>
<td><p>1</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(\mbox{cond}(\mathbf{A})\)</span></p></td>
</tr>
</tbody>
</table>
<p>Compute inverse of the 2D-array input signal.  If the matrix is square
the inverse is computed unless the <code class="docutils literal notranslate"><span class="pre">pinv</span></code> flag is True.  For a
non-square matrix the pseudo-inverse is used.  The condition number is
output on the second port.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.inv.html">numpy.linalg.inv</a>,
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.pinv.html">numpy.linalg.pinv</a>,
<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.cond.html">numpy.linalg.cond</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Inverse.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pinv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Inverse.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Inverse.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pinv</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a><em>, </em><em>optional</em>) – force pseudo inverse, defaults to False</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Inverse.onames">
<span class="sig-name descname"><span class="pre">onames</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('inv',</span> <span class="pre">'cond')</span></em><a class="headerlink" href="#bdsim.blocks.linalg.Inverse.onames" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Norm">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Norm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Norm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Norm" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    NORM
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/norm.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Array norm.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\|\mathbf{A}\|\)</span></p></td>
</tr>
</tbody>
</table>
<p>Computes the specified norm for a 1D- or 2D-array.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.norm.html">numpy.linalg.norm</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Norm.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Norm.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Norm.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – specifies the axis along which to compute the vector norms, defaults to None.</p></li>
<li><p><strong>ord</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – Order of the norm, default to None.</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Slice1">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Slice1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Slice1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Slice1" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    SLICE1
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/slice1.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Slice out subarray of 1D-array.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(v\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(v_{i\dots j}\)</span></p></td>
</tr>
</tbody>
</table>
<p>Compute a 1D slice of input 1D array.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">index</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> it means all elements.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">index</span></code> is a list, perform NumPy fancy indexing, returning
the specified elements</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE1</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span> <span class="c1"># return elements 2 and 3 as a 1D array</span>
<span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE1</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>   <span class="c1"># return element 2 as a 1D array</span>
<span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE1</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>     <span class="c1"># return element 2 as a NumPy scalar</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">index</span></code> is a tuple, it must have three elements.  It
describes a Python slice <code class="docutils literal notranslate"><span class="pre">(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code> where any element can be <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start=None</span></code> means start at first element</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop=None</span></code> means finish at last element</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step=None</span></code> means step by one</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">rows=None</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">rows=(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE1</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># return every second element</span>
<span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE1</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># reverse the elements</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.linalg.Slice1" title="bdsim.blocks.linalg.Slice1"><code class="xref py py-class docutils literal notranslate"><span class="pre">Slice1</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Slice1.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Slice1.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Slice1.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><em>tuple</em></a><em>(</em><em>3</em><em>)</em>) – slice, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Slice2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Slice2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Slice2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Slice2" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    SLICE2
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/slice2.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Slice out subarray of 2D-array.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}_{i\ldots j, m\ldots n}\)</span></p></td>
</tr>
</tbody>
</table>
<p>Compute a 2D slice of input 2D array.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">rows</span></code> or <code class="docutils literal notranslate"><span class="pre">cols</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> it means all rows or columns
respectively.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">rows</span></code> or <code class="docutils literal notranslate"><span class="pre">cols</span></code> is a list, perform NumPy fancy indexing, returning
the specified rows or columns</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE2</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>  <span class="c1"># return rows 2 and 3, all columns</span>
<span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE2</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># return columns 4 and 1, all rows</span>
<span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE2</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">cols</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="c1"># return elements [2,4] and [3,1] as a 1D array</span>
</pre></div>
</div>
<p>If a single row or column is selected, the result will be a 1D array</p>
<p>If <code class="docutils literal notranslate"><span class="pre">rows</span></code> or <code class="docutils literal notranslate"><span class="pre">cols</span></code> is a tuple, it must have three elements.  It
describes a Python slice <code class="docutils literal notranslate"><span class="pre">(start,</span> <span class="pre">stop,</span> <span class="pre">step)</span></code> where any element can be <code class="docutils literal notranslate"><span class="pre">None</span></code></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">start=None</span></code> means start at first element</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stop=None</span></code> means finish at last element</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">step=None</span></code> means step by one</p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">rows=None</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">rows=(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></code>.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE2</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># return every second row</span>
<span class="nb">slice</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">SLICE2</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="c1"># reverse the columns</span>
</pre></div>
</div>
<p>The list and tuple notation can be mixed, for example, one for rows
and one for columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.linalg.Slice1" title="bdsim.blocks.linalg.Slice1"><code class="xref py py-class docutils literal notranslate"><span class="pre">Slice1</span></code></a> <code class="xref py py-class docutils literal notranslate"><span class="pre">Index</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Slice2.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Slice2.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Slice2.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><em>tuple</em></a><em>(</em><em>3</em><em>) or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – row selection, defaults to None</p></li>
<li><p><strong>cols</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)"><em>tuple</em></a><em>(</em><em>3</em><em>) or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – column selection, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Transpose">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.linalg.</span></span><span class="sig-name descname"><span class="pre">Transpose</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Transpose" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    TRANSPOSE
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/transpose.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Matrix transpose.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>2</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbf{A}^{\top}\)</span></p></td>
</tr>
</tbody>
</table>
<p>Compute transpose of the 2D-array input signal.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>An input 1D-array of shape (N,) is turned into a 2D-array column vector
with shape (N,1).</p></li>
<li><p>An input 2D-array column vector of shape (N,1) becomes a 2D-array
row vector with shape (1,N).</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.transpose.html">numpy.linalg.transpose</a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.linalg.Transpose.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/linalg.html#Transpose.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.linalg.Transpose.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bdsim.blocks.spatial">
<span id="spatial-math"></span><h3>Spatial math<a class="headerlink" href="#module-bdsim.blocks.spatial" title="Link to this heading"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Pose_inverse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.spatial.</span></span><span class="sig-name descname"><span class="pre">Pose_inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Pose_inverse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Pose_inverse" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    POSE_INVERSE
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/pose_inverse.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Pose inverse.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>SEn, SOn</p></td>
<td><p><span class="math notranslate nohighlight">\(\xi\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>SEn, SOn</p></td>
<td><p><span class="math notranslate nohighlight">\(\ominus \xi\)</span></p></td>
</tr>
</tbody>
</table>
<p>Invert the pose on the input port.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Pose_inverse.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Pose_inverse.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Pose_inverse.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Pose_postmul">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.spatial.</span></span><span class="sig-name descname"><span class="pre">Pose_postmul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Pose_postmul"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Pose_postmul" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    POSE_POSTMUL
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/pose_postmul.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Post multiply pose.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>SEn, SOn</p></td>
<td><p><span class="math notranslate nohighlight">\(\xi\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>SEn, SOn</p></td>
<td><p><span class="math notranslate nohighlight">\(\xi \oplus \xi_c\)</span></p></td>
</tr>
</tbody>
</table>
<p>Postmultiply the input pose by a constant pose.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pose objects must be of the same type.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.spatial.Pose_premul" title="bdsim.blocks.spatial.Pose_premul"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pose_premul</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Pose_postmul.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Pose_postmul.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Pose_postmul.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pose</strong> (<em>SO2</em><em>, </em><em>SE2</em><em>, </em><em>SO3</em><em> or </em><em>SE3</em>) – pose to apply</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Pose_premul">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.spatial.</span></span><span class="sig-name descname"><span class="pre">Pose_premul</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Pose_premul"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Pose_premul" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    POSE_PREMUL
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/pose_premul.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Pre multiply pose.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>SEn, SOn</p></td>
<td><p><span class="math notranslate nohighlight">\(\xi\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>SEn, SOn</p></td>
<td><p><span class="math notranslate nohighlight">\(\xi_c \oplus \xi\)</span></p></td>
</tr>
</tbody>
</table>
<p>Premultiply the input pose by a constant pose.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pose objects must be of the same type.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.spatial.Pose_postmul" title="bdsim.blocks.spatial.Pose_postmul"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pose_postmul</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Pose_premul.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Pose_premul.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Pose_premul.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pose</strong> (<em>SO2</em><em>, </em><em>SE2</em><em>, </em><em>SO3</em><em> or </em><em>SE3</em>) – pose to apply</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Transform_vector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.spatial.</span></span><span class="sig-name descname"><span class="pre">Transform_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Transform_vector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Transform_vector" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    TRANSFORM_VECTOR
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/transform_vector.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Transform a vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>SEn, SOn</p></td>
<td><p><span class="math notranslate nohighlight">\(\xi\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Input</p></td>
<td><p>1</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(v\)</span>, Euclidean 2D or 3D</p></td>
</tr>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(\xi \bullet v\)</span></p></td>
</tr>
</tbody>
</table>
<p>Linearly transform the input vector by the input pose.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.spatial.Transform_vector.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/spatial.html#Transform_vector.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.spatial.Transform_vector.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-bdsim.blocks.connections">
<span id="connection-blocks"></span><h2>Connection blocks<a class="headerlink" href="#module-bdsim.blocks.connections" title="Link to this heading"></a></h2>
<p>Connection blocks are in two categories:</p>
<ol class="arabic simple">
<li><dl class="simple">
<dt>Signal manipulation:</dt><dd><ul class="simple">
<li><p>have inputs and outputs</p></li>
<li><p>have no state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">FunctionBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Subsystem support</dt><dd><ul class="simple">
<li><p>have inputs or outputs</p></li>
<li><p>have no state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">SubsysytemBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
</dd>
</dl>
</li>
</ol>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.DeMux">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">DeMux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#DeMux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.DeMux" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    DEMUX
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/demux.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Demultiplex signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>N</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>iterable</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>i</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
</tbody>
</table>
<p>This block has a single input port and <code class="docutils literal notranslate"><span class="pre">nout</span></code> output ports.  The input signal is
an iterable whose <code class="docutils literal notranslate"><span class="pre">nout</span></code> elements are routed element-wise to individual scalar
output ports.  If the input is a 1D Numpy array, then each output port is an
element of that array.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.connections.Mux" title="bdsim.blocks.connections.Mux"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mux</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.DeMux.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#DeMux.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.DeMux.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – number of outputs, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Dict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">Dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Dict" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    DICT
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/dict.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Create a dictionary signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>dict</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{key:</span> <span class="pre">x[i]</span> <span class="pre">for</span> <span class="pre">i,</span> <span class="pre">key</span> <span class="pre">in</span> <span class="pre">enumerate(keys)}</span></code></p></td>
</tr>
</tbody>
</table>
<p>Inputs are assigned to a dictionary signal, using the corresponding
names from <code class="docutils literal notranslate"><span class="pre">keys</span></code>.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dd</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">DICT</span><span class="p">([</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;xd&quot;</span><span class="p">,</span> <span class="s2">&quot;xdd&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>expects three inputs and assigns them to dictionary items <code class="docutils literal notranslate"><span class="pre">x</span></code>, <code class="docutils literal notranslate"><span class="pre">xd</span></code>, <code class="docutils literal notranslate"><span class="pre">xdd</span></code> of
the output dictionary respectively.</p>
<p>This is somewhat like a multiplexer <a class="reference internal" href="#bdsim.blocks.connections.Mux" title="bdsim.blocks.connections.Mux"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mux</span></code></a> but allows for named heterogeneous
data.  A dictionary signal can serve a similar purpose to a “bus” in Simulink(R).</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.connections.Item" title="bdsim.blocks.connections.Item"><code class="xref py py-class docutils literal notranslate"><span class="pre">Item</span></code></a> <a class="reference internal" href="#bdsim.blocks.connections.Mux" title="bdsim.blocks.connections.Mux"><code class="xref py py-class docutils literal notranslate"><span class="pre">Mux</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Dict.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Dict.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Dict.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a>) – list of dictionary keys</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.InPort">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">InPort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#InPort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.InPort" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SubsystemBlock" title="bdsim.components.SubsystemBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubsystemBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    INPORT
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/inport.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Input ports for a subsystem.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>N</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output</p></td>
<td><p>j</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(y_j\)</span></p></td>
</tr>
</tbody>
</table>
<p>This block connects a subsystem to a parent block diagram.  Inputs to the
parent-level <code class="docutils literal notranslate"><span class="pre">SubSystem</span></code> block appear as the outputs of this block.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one <code class="docutils literal notranslate"><span class="pre">INPORT</span></code> block can appear in a block diagram but it
can have multiple ports.  This is different to Simulink(R) which
would require multiple single-port input blocks.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.InPort.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#InPort.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.InPort.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Number of output ports, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Index">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">Index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Index" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    INDEX
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/index.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>iterable</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>j</p></td>
<td><p>iterable</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
</tbody>
</table>
<p>The specified element(s) of the input iterable (list, string, etc.)
are output.  The index can be an integer, sequence of integers, a Python slice
object, or a string with Python slice notation, eg. <code class="docutils literal notranslate"><span class="pre">&quot;::-1&quot;</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Slice1</span></code> <code class="xref py py-class docutils literal notranslate"><span class="pre">Slice2</span></code></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Index.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Index.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Index.__init__" title="Link to this definition"></a></dt>
<dd><p>Index an iterable signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)"><em>list</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#slice" title="(in Python v3.12)"><em>slice</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – elements of input array, defaults to []</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Item">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">Item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Item" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    ITEM
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/item.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Select item from a dictionary signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>dict</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">D</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>any</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">D[i]</span></code></p></td>
</tr>
</tbody>
</table>
<p>For a dictionary type input signal, select one item as the output signal.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">item</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">ITEM</span><span class="p">(</span><span class="s2">&quot;xd&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>selects the <code class="docutils literal notranslate"><span class="pre">xd</span></code> item from the dictionary signal input to the block.</p>
<p>This is somewhat like a demultiplexer <a class="reference internal" href="#bdsim.blocks.connections.DeMux" title="bdsim.blocks.connections.DeMux"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeMux</span></code></a> but allows for
named heterogeneous data.
A dictionary signal can serve a similar purpose to a “bus” in Simulink(R).</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.connections.Dict" title="bdsim.blocks.connections.Dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Item.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Item.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Item.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – name of dictionary item</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Mux">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">Mux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Mux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Mux" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.FunctionBlock" title="bdsim.components.FunctionBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">FunctionBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    MUX
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/mux.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Multiplex signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\([x_0 \ldots x_{N-1}]\)</span></p></td>
</tr>
</tbody>
</table>
<p>This block takes a number of scalar or 1D-array signals and concatenates
them into a single 1-D array signal.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mux</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">MUX</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Demux</span></code> <a class="reference internal" href="#bdsim.blocks.connections.Dict" title="bdsim.blocks.connections.Dict"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.Mux.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#Mux.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.Mux.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Number of input ports, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.OutPort">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">OutPort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#OutPort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.OutPort" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SubsystemBlock" title="bdsim.components.SubsystemBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubsystemBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    OUTPORT
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/outport.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Output ports for a subsystem.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>0</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
</tbody>
</table>
<p>This block connects a subsystem to a parent block diagram.  The
inputs of this block become the outputs of the parent-level <code class="docutils literal notranslate"><span class="pre">SubSystem</span></code>
block.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only one <code class="docutils literal notranslate"><span class="pre">OUTPORT</span></code> block can appear in a block diagram but it
can have multiple ports.  This is different to Simulink(R) which
would require multiple single-port output blocks.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.OutPort.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#OutPort.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.OutPort.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Number of input ports, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.connections.SubSystem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.connections.</span></span><span class="sig-name descname"><span class="pre">SubSystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#SubSystem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.SubSystem" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SubsystemBlock" title="bdsim.components.SubsystemBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubsystemBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    SUBSYSTEM
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/subsystem.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Instantiate a subsystem.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>M</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>0</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>i</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(x_i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>j</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(y_j\)</span></p></td>
</tr>
</tbody>
</table>
<p>This block represents a subsystem in a block diagram.  The definition
of the subsystem can be:</p>
<ul class="simple">
<li><p>the name of a module which is imported and must contain only
only <code class="docutils literal notranslate"><span class="pre">BlockDiagram</span></code> instance, or</p></li>
<li><p>a <code class="docutils literal notranslate"><span class="pre">BlockDiagram</span></code> instance</p></li>
</ul>
<p>The referenced block diagram must contain one or both of:</p>
<ul class="simple">
<li><p>one <code class="docutils literal notranslate"><span class="pre">InPort</span></code> block, which has outputs but no inputs. These
outputs are connected to the inputs to the enclosing <code class="docutils literal notranslate"><span class="pre">SubSystem</span></code> block.</p></li>
<li><p>one <code class="docutils literal notranslate"><span class="pre">OutPort</span></code> block, which has inputs but no outputs. These
inputs are connected to the outputs to the enclosing <code class="docutils literal notranslate"><span class="pre">SubSystem</span></code> block.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The referenced block diagram is treated like a macro and copied into
the parent block diagram at compile time. The <code class="docutils literal notranslate"><span class="pre">SubSystem</span></code>, <code class="docutils literal notranslate"><span class="pre">InPort</span></code> and
<code class="docutils literal notranslate"><span class="pre">OutPort</span></code> blocks are eliminated, that is, all hierarchical structure is
lost.</p></li>
<li><p>The same subsystem can be used multiple times, its blocks and wires
will be cloned.  Subsystems can also include subsystems.</p></li>
<li><p>The number of input and output ports is not specified, they are computed
from the number of ports on the <code class="docutils literal notranslate"><span class="pre">InPort</span></code> and <code class="docutils literal notranslate"><span class="pre">OutPort</span></code> blocks within the
subsystem.</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.connections.SubSystem.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subsys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/connections.html#SubSystem.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.connections.SubSystem.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subsys</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em> or </em><a class="reference internal" href="internals.html#bdsim.BlockDiagram" title="bdsim.BlockDiagram"><em>BlockDiagram</em></a>) – Subsystem as either a filename or a <code class="docutils literal notranslate"><span class="pre">BlockDiagram</span></code> instance</p></li>
<li><p><strong>nin</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Number of input ports, defaults to 1</p></li>
<li><p><strong>nout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – Number of output ports, defaults to 1</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ImportError" title="(in Python v3.12)"><strong>ImportError</strong></a> – DESCRIPTION</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – DESCRIPTION</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="dynamics">
<h2>Dynamics<a class="headerlink" href="#dynamics" title="Link to this heading"></a></h2>
<section id="module-bdsim.blocks.transfers">
<span id="continuous-time-blocks"></span><h3>Continuous-time blocks<a class="headerlink" href="#module-bdsim.blocks.transfers" title="Link to this heading"></a></h3>
<p>Transfer blocks:</p>
<ul class="simple">
<li><p>have inputs and outputs</p></li>
<li><p>have state variables</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">TransferBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.Deriv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.transfers.</span></span><span class="sig-name descname"><span class="pre">Deriv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#Deriv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.Deriv" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SubsystemBlock" title="bdsim.components.SubsystemBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubsystemBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    DERIV
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/deriv.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Continuous-time derivative.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>Implements the dynamics of a derivative filter, but to be causal it has a single
pole given by <code class="docutils literal notranslate"><span class="pre">alpha</span></code>.  The dynamics is</p>
<div class="math notranslate nohighlight">
\[\frac{s}{\frac{s}{\alpha} + 1}\]</div>
<p>It is implemented as a subsystem with an integrator and a feedback loop.  The
initial state of the integrator is given by <code class="docutils literal notranslate"><span class="pre">x0</span></code>.</p>
<p>If the initial output of the derivative block is known it can be provided as <code class="docutils literal notranslate"><span class="pre">y0</span></code>
which is related to <code class="docutils literal notranslate"><span class="pre">x0</span></code> by <span class="math notranslate nohighlight">\(x_0 = - \alpha y_0\)</span>.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.transfers.Integrator" title="bdsim.blocks.transfers.Integrator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Integrator</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.Deriv.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#Deriv.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.Deriv.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – filter pole in units of rad/s</p></li>
<li><p><strong>x0</strong> (<em>array_like</em><em>, </em><em>optional</em>) – initial states, defaults to 0</p></li>
<li><p><strong>y0</strong> (<em>array_like</em>) – inital outputs</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.Integrator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.transfers.</span></span><span class="sig-name descname"><span class="pre">Integrator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#Integrator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.Integrator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.TransferBlock" title="bdsim.components.TransferBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransferBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    INTEGRATOR
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/integrator.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Continuous-time integrator.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>Output is the time integral of the input <span class="math notranslate nohighlight">\(y(t) = \int_0^T x(t) dt\)</span>.</p>
<p>The state can be a scalar or a vector. The initial state, and type, is given by
<code class="docutils literal notranslate"><span class="pre">x0</span></code>.  The shape of the input signal must match <code class="docutils literal notranslate"><span class="pre">x0</span></code>.</p>
<p>The minimum and maximum values can be:</p>
<blockquote>
<div><ul class="simple">
<li><p>a scalar, in which case the same value applies to every element of
the state vector, or</p></li>
<li><p>a vector, of the same shape as <code class="docutils literal notranslate"><span class="pre">x0</span></code> that applies elementwise to
the state.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The minimum and maximum prevent integration outside the limits,
but assume that the initial state is within the limits.</p>
</div>
<p>Integration can be controlled by an <code class="docutils literal notranslate"><span class="pre">enable</span></code> function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span> <span class="nb">bool</span>
</pre></div>
</div>
<p>where the arguments are current time, a list of inputs to the block and the state
as an ndarray.  If the function returns False then the integrator’s output is set
to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.transfers.Deriv" title="bdsim.blocks.transfers.Deriv"><code class="xref py py-class docutils literal notranslate"><span class="pre">Deriv</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.Integrator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#Integrator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.Integrator.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x0</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Initial state, defaults to 0</p></li>
<li><p><strong>gain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – gain or scaling factor, defaults to 1</p></li>
<li><p><strong>min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array_like</em><em>, </em><em>optional</em>) – Minimum value of state, defaults to None</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array_like</em><em>, </em><em>optional</em>) – Maximum value of state, defaults to None</p></li>
<li><p><strong>enable</strong> (<em>callable</em>) – enable or disable integration</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.LTI_SISO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.transfers.</span></span><span class="sig-name descname"><span class="pre">LTI_SISO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#LTI_SISO"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.LTI_SISO" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#bdsim.blocks.transfers.LTI_SS" title="bdsim.blocks.transfers.LTI_SS"><code class="xref py py-class docutils literal notranslate"><span class="pre">LTI_SS</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    LTI_SISO
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/lti_siso.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Continuous-time SISO LTI dynamics.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(u\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>Implements the dynamics of a single-input single-output (SISO) linear
time invariant (LTI) system described by numerator and denominator
polynomial coefficients.  The dynamics are given by</p>
<div class="math notranslate nohighlight">
\[\frac{Y(s)}{U(s)} = \frac{N(s)}{D(s)}\]</div>
<p>Coefficients are given in the order from highest order to zeroth
order, ie. <span class="math notranslate nohighlight">\(2s^2 - 4s +3\)</span> is <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">-4,</span> <span class="pre">3]</span></code>.</p>
<p>Only proper transfer functions, where order of numerator is less
than denominator are allowed.</p>
<p>The order of the states in <code class="docutils literal notranslate"><span class="pre">x0</span></code> is consistent with controller canonical
form.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lti</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">LTI_SISO</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">D</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">])</span>
</pre></div>
</div>
<p>is the transfer function <span class="math notranslate nohighlight">\(\frac{s+2}{2s^2+3s-4}\)</span>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.LTI_SISO.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#LTI_SISO.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.LTI_SISO.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> (<em>array_like</em><em>, </em><em>optional</em>) – numerator coefficients, defaults to 1</p></li>
<li><p><strong>D</strong> (<em>array_like</em><em>, </em><em>optional</em>) – denominator coefficients, defaults to [1,1]</p></li>
<li><p><strong>x0</strong> (<em>array_like</em><em>, </em><em>optional</em>) – initial states, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>LTI_SISO block</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">LTI_SISO</span></code> instance</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.LTI_SS">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.transfers.</span></span><span class="sig-name descname"><span class="pre">LTI_SS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#LTI_SS"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.LTI_SS" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.TransferBlock" title="bdsim.components.TransferBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransferBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    LTI_SS
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/lti_ss.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Continuous-time state-space LTI dynamics</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(u\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>Implements the dynamics of a multi-input multi-output (MIMO) linear
time invariant (LTI) system described in statespace form.  The dynamics are given by</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\dot{x} &amp;= A x + B u\\y &amp;= C x\end{aligned}\end{align} \]</div>
<p>The order of the states in <code class="docutils literal notranslate"><span class="pre">x0</span></code> is consistent with controller canonical
form.  A direct passthrough component, typically <span class="math notranslate nohighlight">\(D\)</span>, is not allowed in order
to avoid algebraic loops.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lti</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">LTI_SS</span><span class="p">(</span><span class="n">A</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">C</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>is the system <span class="math notranslate nohighlight">\(\dot{x}=-2x+u, y=-x\)</span>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.LTI_SS.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">C</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#LTI_SS.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.LTI_SS.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>N</strong> (<em>array_like</em><em>, </em><em>optional</em>) – numerator coefficients, defaults to 1</p></li>
<li><p><strong>D</strong> (<em>array_like</em><em>, </em><em>optional</em>) – denominator coefficients, defaults to [1,1]</p></li>
<li><p><strong>x0</strong> (<em>array_like</em><em>, </em><em>optional</em>) – initial states, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.PID">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.transfers.</span></span><span class="sig-name descname"><span class="pre">PID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">P</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D_pole</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#PID"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.PID" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.SubsystemBlock" title="bdsim.components.SubsystemBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">SubsystemBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    PID
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/pid.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Continuous-time PID control.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>2</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span>, plant output</p></td>
</tr>
<tr class="row-odd"><td><p>Input</p></td>
<td><p>1</p></td>
<td><p>float</p></td>
<td><p><span class="math notranslate nohighlight">\(x^*\)</span>, demanded output</p></td>
</tr>
<tr class="row-even"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>any</p></td>
<td><p><span class="math notranslate nohighlight">\(u\)</span>, control to plant</p></td>
</tr>
</tbody>
</table>
<p>Implements the dynamics of a PID controller:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}e &amp;= x^* - x\\u &amp;= Pe + D \frac{d}{dt} e + I \int e dt\end{aligned}\end{align} \]</div>
<p>If the I or D terms are not required the <code class="docutils literal notranslate"><span class="pre">type</span></code> can be specified as <code class="docutils literal notranslate"><span class="pre">&quot;PD&quot;</span></code> or
<code class="docutils literal notranslate"><span class="pre">&quot;PI&quot;</span></code> in which case the respective gain terms <code class="docutils literal notranslate"><span class="pre">I</span></code> and <code class="docutils literal notranslate"><span class="pre">D</span></code> will be ignored.</p>
<p>To reduce noise the derivative is computed by the DERIV block which implements a
first-order system</p>
<div class="math notranslate nohighlight">
\[\frac{s}{s/a + 1}\]</div>
<p>where the pole <span class="math notranslate nohighlight">\(a=\)</span> <code class="docutils literal notranslate"><span class="pre">D_filt</span></code> can be positioned appropriately.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">I_limit</span></code> is provided it specifies the limits of the integrator
state, before multiplication by <code class="docutils literal notranslate"><span class="pre">I</span></code>.  If <code class="docutils literal notranslate"><span class="pre">I_limit</span></code> is:</p>
<ul class="simple">
<li><p>a scalar <span class="math notranslate nohighlight">\(a\)</span> the integrator state is clipped to the interval <span class="math notranslate nohighlight">\([-a, a]\)</span></p></li>
<li><p>a 2-tuple <span class="math notranslate nohighlight">\((a,b)\)</span> the integrator state is clipped to the interval <span class="math notranslate nohighlight">\([a, b]\)</span></p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">I_band</span></code> is provided the integrator is reset to zero whenever the
error <span class="math notranslate nohighlight">\(e\)</span> is outside the band given by <code class="docutils literal notranslate"><span class="pre">I_band</span></code> which is:</p>
<ul class="simple">
<li><p>a scalar <span class="math notranslate nohighlight">\(s\)</span> the band is the interval <span class="math notranslate nohighlight">\([-s, s]\)</span></p></li>
<li><p>a 2-tuple <span class="math notranslate nohighlight">\((a,b)\)</span> the band is the interval <span class="math notranslate nohighlight">\([a, b]\)</span></p></li>
</ul>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pid</span> <span class="o">=</span> <span class="n">bd</span><span class="o">.</span><span class="n">PID</span><span class="p">(</span><span class="n">P</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">D</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">I</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>..note:: The result is a subsystem which will be expanded into 12 blocks for the</dt><dd><p>PID case, fewer for the PI or PD cases.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Seealso<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bdsim.blocks.transfers.Deriv" title="bdsim.blocks.transfers.Deriv"><code class="xref py py-class docutils literal notranslate"><span class="pre">Deriv</span></code></a></p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.PID.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'PID'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">P</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">D_pole</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">I_band</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#PID.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.PID.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – the controller type, defaults to “PID”</p></li>
<li><p><strong>P</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – proportional gain, defaults to 0</p></li>
<li><p><strong>D</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – derivative gain, defaults to 0</p></li>
<li><p><strong>I</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – integral gain, defaults to 0</p></li>
<li><p><strong>D_pole</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – filter pole for derivative estimate, defaults to 1 rad/s</p></li>
<li><p><strong>I_limit</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>2-tuple</em>) – integral limit</p></li>
<li><p><strong>I_band</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – band within which integral action is active</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.PoseIntegrator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.transfers.</span></span><span class="sig-name descname"><span class="pre">PoseIntegrator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#PoseIntegrator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.PoseIntegrator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.TransferBlock" title="bdsim.components.TransferBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransferBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    POSEINTEGRATOR
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/poseintegrator.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Continuous-time pose integrator</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>6</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray(6,)</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>SE3</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>This block integrates spatial velocity over time. The block input is a spatial
velocity as a 6-vector <span class="math notranslate nohighlight">\((v_x, v_y, v_z, \omega_x, \omega_y, \omega_z)\)</span> and the
output is pose as an <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The state vector is a velocity twist.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.transfers.PoseIntegrator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/transfers.html#PoseIntegrator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.transfers.PoseIntegrator.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x0</strong> (<em>SE3</em><em>, </em><em>Twist3</em><em>, </em><em>optional</em>) – Initial pose, defaults to null</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-bdsim.blocks.discrete">
<span id="discrete-time-blocks"></span><h3>Discrete-time blocks<a class="headerlink" href="#module-bdsim.blocks.discrete" title="Link to this heading"></a></h3>
<p>Transfer blocks:</p>
<ul class="simple">
<li><p>have inputs and outputs</p></li>
<li><p>have discrete-time state variables that are sampled/updated at the times
specified by the associated clock</p></li>
<li><p>are a subclass of <code class="docutils literal notranslate"><span class="pre">TransferBlock</span></code> → <code class="docutils literal notranslate"><span class="pre">Block</span></code></p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.DIntegrator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.discrete.</span></span><span class="sig-name descname"><span class="pre">DIntegrator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#DIntegrator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.DIntegrator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.ClockedBlock" title="bdsim.components.ClockedBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClockedBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    DINTEGRATOR
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/dintegrator.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Discrete-time integrator.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>Create a discrete-time integrator block.</p>
<p>Output is the time integral of the input.  The state can be a scalar or a
vector, this is given by the type of <code class="docutils literal notranslate"><span class="pre">x0</span></code>.</p>
<p>The minimum and maximum values can be:</p>
<blockquote>
<div><ul class="simple">
<li><p>a scalar, in which case the same value applies to every element of
the state vector, or</p></li>
<li><p>a vector, of the same shape as <code class="docutils literal notranslate"><span class="pre">x0</span></code> that applies elementwise to
the state.</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.DIntegrator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#DIntegrator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.DIntegrator.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clock</strong> (<a class="reference internal" href="internals.html#bdsim.Clock" title="bdsim.Clock"><em>Clock</em></a>) – clock source</p></li>
<li><p><strong>x0</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Initial state, defaults to 0</p></li>
<li><p><strong>gain</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – gain or scaling factor, defaults to 1</p></li>
<li><p><strong>min</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array_like</em><em>, </em><em>optional</em>) – Minimum value of state, defaults to None</p></li>
<li><p><strong>max</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array_like</em><em>, </em><em>optional</em>) – Maximum value of state, defaults to None</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.DIntegrator.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#DIntegrator.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.DIntegrator.next" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.DPoseIntegrator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.discrete.</span></span><span class="sig-name descname"><span class="pre">DPoseIntegrator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#DPoseIntegrator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.DPoseIntegrator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.ClockedBlock" title="bdsim.components.ClockedBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClockedBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    DPOSEINTEGRATOR
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/dposeintegrator.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Discrete-time spatial velocity integrator.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>6</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>ndarray(6,)</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>SE3</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>This block integrates spatial velocity over time.
The block input is a spatial velocity as a 6-vector
<span class="math notranslate nohighlight">\((v_x, v_y, v_z, \omega_x, \omega_y, \omega_z)\)</span> and the output
is pose as an <code class="docutils literal notranslate"><span class="pre">SE3</span></code> instance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>State is a velocity twist.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.DPoseIntegrator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#DPoseIntegrator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.DPoseIntegrator.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clock</strong> (<a class="reference internal" href="internals.html#bdsim.Clock" title="bdsim.Clock"><em>Clock</em></a>) – clock source</p></li>
<li><p><strong>x0</strong> (<em>SE3</em><em>, </em><em>optional</em>) – Initial pose, defaults to null</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.DPoseIntegrator.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#DPoseIntegrator.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.DPoseIntegrator.next" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.ZOH">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bdsim.blocks.discrete.</span></span><span class="sig-name descname"><span class="pre">ZOH</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#ZOH"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.ZOH" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="internals.html#bdsim.ClockedBlock" title="bdsim.components.ClockedBlock"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClockedBlock</span></code></a></p>
<p>
    <table width="100%">
    	<col style="width:75%">
        <col style="width:5%;">
	    <col style="width:20%">
    <tr>
    <td>
    <p style="border:10px; background-color:#000000; padding: 1em; color: white; font-size: 30px; font-weight: bold;">
    ZOH
    </p>
    </td>
    <td></td>
    <td>
    <img src="https://github.com/petercorke/bdsim/raw/master/bdsim/blocks/Icons/zoh.png" width=80 height=80 style="border:2px solid black; border-radius:10px; padding: 4px">
    </td>
    </tr>
    </table>
    </p>
<p>Zero-order hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Inputs<span class="colon">:</span></dt>
<dd class="field-odd"><p>1</p>
</dd>
<dt class="field-even">Outputs<span class="colon">:</span></dt>
<dd class="field-even"><p>1</p>
</dd>
<dt class="field-odd">States<span class="colon">:</span></dt>
<dd class="field-odd"><p>N</p>
</dd>
</dl>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port type</p></th>
<th class="head"><p>Port number</p></th>
<th class="head"><p>Types</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Input</p></td>
<td><p>0</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(x\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>Output</p></td>
<td><p>0</p></td>
<td><p>float, ndarray</p></td>
<td><p><span class="math notranslate nohighlight">\(y\)</span></p></td>
</tr>
</tbody>
</table>
<p>Output is the input at the previous clock time $y_{k} = x_{k-1}.  The state can be a
scalar or a vector, this is given by the type of <code class="docutils literal notranslate"><span class="pre">x0</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If input is not a scalar, <code class="docutils literal notranslate"><span class="pre">x0</span></code> must have the shape of the
input signal.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.ZOH.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clock</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">blockargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#ZOH.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.ZOH.__init__" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>clock</strong> (<a class="reference internal" href="internals.html#bdsim.Clock" title="bdsim.Clock"><em>Clock</em></a>) – clock source</p></li>
<li><p><strong>x0</strong> (<em>array_like</em><em>, </em><em>optional</em>) – Initial value of the hold, defaults to 0</p></li>
<li><p><strong>blockargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)"><em>dict</em></a>) – <span class="raw-html"><a href="https://petercorke.github.io/bdsim/internals.html?highlight=block%20__init__#bdsim.Block.__init__">common Block options</a></span></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bdsim.blocks.discrete.ZOH.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inports</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bdsim/blocks/discrete.html#ZOH.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bdsim.blocks.discrete.ZOH.next" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
<section id="external-toolbox-blocksets">
<h2>External Toolbox blocksets<a class="headerlink" href="#external-toolbox-blocksets" title="Link to this heading"></a></h2>
<p>These blocks are defined within external Toolboxes or packages.</p>
<section id="robot-blocks">
<h3>Robot blocks<a class="headerlink" href="#robot-blocks" title="Link to this heading"></a></h3>
<p>These blocks are defined within the Robotics Toolbox for Python.</p>
<section id="arm-robots">
<h4>Arm robots<a class="headerlink" href="#arm-robots" title="Link to this heading"></a></h4>
</section>
<section id="mobile-robots">
<h4>Mobile robots<a class="headerlink" href="#mobile-robots" title="Link to this heading"></a></h4>
</section>
<section id="multi-rotor-flying-robots">
<h4>Multi rotor flying robots<a class="headerlink" href="#multi-rotor-flying-robots" title="Link to this heading"></a></h4>
</section>
</section>
<section id="vision-blocks">
<h3>Vision blocks<a class="headerlink" href="#vision-blocks" title="Link to this heading"></a></h3>
<p>These blocks are defined within the Machine Vision Toolbox for Python.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bdsim.html" class="btn btn-neutral float-left" title="Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="internals.html" class="btn btn-neutral float-right" title="Supporting classes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-, Peter Corke..
      <span class="lastupdated">Last updated on 06-Aug-2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-11Q6WJM565"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-11Q6WJM565', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>